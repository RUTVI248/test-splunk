[
{
"eai:data": "<?xml version=\"1.0\"?>\n<view template=\"git_for_splunk:templates/base.html\" type=\"html\" isDashboard=\"False\">\n    <label>Configuration</label>\n</view>",
"eai:type": "views",
"name": "configuration",
"owner": "nobody",
"sharing": "app"
},
{
"eai:data": "<?xml version=\"1.0\"?>\n<view template=\"git_for_splunk:templates/base.html\" type=\"html\" isDashboard=\"False\">\n    <label>Inputs</label>\n</view>",
"eai:type": "views",
"name": "inputs",
"owner": "nobody",
"sharing": "app"
},
{
"eai:data": "<form version=\"1.1\">\n  <label>Status</label>\n  <fieldset submitButton=\"false\">\n    <input type=\"time\" token=\"time\" searchWhenChanged=\"true\">\n      <label></label>\n      <default>\n        <earliest>-7d@h</earliest>\n        <latest>now</latest>\n      </default>\n    </input>\n  </fieldset>\n  <row>\n    <panel>\n      <table>\n        <search>\n          <query>\nsourcetype=gitforsplunk index=_internal \n| eval time = strftime(_time, \"%Y-%m-%d %H:%M\") \n| eval etime1 = _time\n| eval etime2 = _time + 1\n| rex \"(?s)git commit \\-m auto.*?(?&lt;no_changes1&gt;no changes added to commit)\"\n| rex \"EXITCODE: 1[\\s*](?&lt;no_changes2&gt;No changes)\"\n| sort - _time\n| foreach status_* \n    [eval &lt;&lt;MATCHSTR&gt;&gt; = case(isnull(&lt;&lt;FIELD&gt;&gt;), null(), &lt;&lt;FIELD&gt;&gt;==0, \"OK\", true(), \"Error\")]\n| eval commit_files = if((isnotnull(no_changes1) OR isnotnull(no_changes2)) AND status_commit_files == 1, \"No Changes\", commit_files) \n| table etime1 etime2 time host commit_message runtime check_status add_files commit_files change_message commit_details push \n| rename time as Time host as Host commit_message as \"Commit message\" runtime as Duration check_status as \"Check status\" add_files as \"Add files\" commit_files as \"Commit files\" change_message as \"Update message\" commit_details as \"Show details\" push as \"Push\"\n          </query>\n          <earliest>$time.earliest$</earliest>\n          <latest>$time.latest$</latest>\n          <sampleRatio>1</sampleRatio>\n        </search>\n        <option name=\"count\">20</option>\n        <option name=\"dataOverlayMode\">none</option>\n        <option name=\"drilldown\">row</option>\n        <option name=\"percentagesRow\">false</option>\n        <option name=\"rowNumbers\">false</option>\n        <option name=\"totalsRow\">false</option>\n        <option name=\"wrap\">true</option>\n        <format type=\"color\" field=\"Check status\">\n          <colorPalette type=\"map\">{\"OK\":#53A051,\"Error\":#DC4E41}</colorPalette>\n        </format>\n        <format type=\"color\" field=\"Add files\">\n          <colorPalette type=\"map\">{\"OK\":#53A051,\"Error\":#DC4E41}</colorPalette>\n        </format>\n        <format type=\"color\" field=\"Commit files\">\n          <colorPalette type=\"map\">{\"OK\":#53A051,\"Error\":#DC4E41,\"No Changes\":#53A051}</colorPalette>\n        </format>\n        <format type=\"color\" field=\"Update message\">\n          <colorPalette type=\"map\">{\"OK\":#53A051,\"Error\":#DC4E41}</colorPalette>\n        </format>\n        <format type=\"color\" field=\"Show details\">\n          <colorPalette type=\"map\">{\"OK\":#53A051,\"Error\":#DC4E41}</colorPalette>\n        </format>\n        <format type=\"color\" field=\"Push\">\n          <colorPalette type=\"map\">{\"OK\":#53A051,\"Error\":#DC4E41}</colorPalette>\n        </format>\n        <format type=\"number\" field=\"Duration\">\n          <option name=\"unit\">sec</option>\n        </format>\n        <fields>[\"Time\",\"Host\",\"Commit message\",\"Duration\",\"Check status\",\"Add files\",\"Commit files\",\"Update message\",\"Show details\",\"Push\"]</fields>\n        <drilldown>\n          <set token=\"host\">$row.Host$</set>\n          <set token=\"etime1\">$row.etime1$</set>\n          <set token=\"etime2\">$row.etime2$</set>\n        </drilldown>\n      </table>\n    </panel>\n  </row>\n  <row depends=\"$host$\">\n    <panel>\n      <event>\n        <title>Run details</title>\n        <search>\n          <query>sourcetype=gitforsplunk index=_internal host=$host$ earliest=$etime1$ latest=$etime2$</query>\n          <earliest>$time.earliest$</earliest>\n          <latest>$time.latest$</latest>\n          <sampleRatio>1</sampleRatio>\n        </search>\n        <option name=\"count\">20</option>\n        <option name=\"list.drilldown\">none</option>\n        <option name=\"list.wrap\">1</option>\n        <option name=\"maxLines\">5</option>\n        <option name=\"raw.drilldown\">full</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"rowNumbers\">0</option>\n        <option name=\"table.drilldown\">all</option>\n        <option name=\"table.sortDirection\">asc</option>\n        <option name=\"table.wrap\">1</option>\n        <option name=\"type\">list</option>\n      </event>\n    </panel>\n  </row>\n  <row depends=\"$host$\">\n    <panel>\n      <html>\n      <a data-unset-token=\"host\">Close this panel</a>\n      </html>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>Most regularly changing files</title>\n      <table>\n        <search>\n          <query>sourcetype=gitforsplunk index=_internal \n|  top 20 changed_file \n|  fields - percent\n| rename changed_file as \"Filename\" count as Count</query>\n          <earliest>$time.earliest$</earliest>\n          <latest>$time.latest$</latest>\n          <sampleRatio>1</sampleRatio>\n        </search>\n        <option name=\"count\">20</option>\n        <option name=\"dataOverlayMode\">none</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"percentagesRow\">false</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"rowNumbers\">false</option>\n        <option name=\"totalsRow\">false</option>\n        <option name=\"wrap\">true</option>\n      </table>\n    </panel>\n  </row>\n</form>",
"eai:type": "views",
"name": "status",
"owner": "nobody",
"sharing": "app"
}
]
