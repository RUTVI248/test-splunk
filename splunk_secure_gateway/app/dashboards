[
{
"eai:data": "<?xml version=\"1.0\"?>\n<view template=\"splunk_secure_gateway:/templates/administration.html\" type=\"html\">\n    <label>Administration</label>\n</view>",
"eai:type": "views",
"name": "administration",
"owner": "nobody",
"sharing": "app"
},
{
"eai:data": "<?xml version=\"1.0\"?>\n<view template=\"splunk_secure_gateway:/templates/home.html\" type=\"html\">\n    <label>Home</label>\n</view>",
"eai:type": "views",
"name": "home",
"owner": "nobody",
"sharing": "app"
},
{
"eai:data": "<form hideEdit=\"True\" theme=\"dark\" version=\"1.1\">\n  <tags>mobile,tv</tags>\n  <label>KV Store Collections Status</label>\n  <description>If you\u2019re running into issues with the Connected Experiences apps, Splunk Support might ask you to use this dashboard to check the KV Store status.</description>\n  <search id=\"kvstore\">\n    <query>| rest \"services/ssg/kvstore_client\"\napp=$app$\ncollection=$collection$\nowner=$owner$\nsort=$sort$\nlimit=$limit$\n</query>\n    <earliest>-15m</earliest>\n    <latest>now</latest>\n  </search>\n  <fieldset submitButton=\"true\" autoRun=\"false\">\n    <input type=\"dropdown\" token=\"app\">\n      <label>App</label>\n      <fieldForLabel>label</fieldForLabel>\n      <fieldForValue>title</fieldForValue>\n      <search>\n        <query>| rest /services/apps/local | search disabled=0 | table label title</query>\n        <earliest>-15m</earliest>\n        <latest>now</latest>\n      </search>\n      <initialValue>splunk_secure_gateway</initialValue>\n    </input>\n    <input type=\"dropdown\" token=\"collection\">\n      <label>Collection</label>\n      <fieldForLabel>title</fieldForLabel>\n      <fieldForValue>title</fieldForValue>\n      <search>\n        <query>| rest /servicesNS/nobody/$app$/storage/collections/config |   table title eai:acl.app | rename eai:acl.app as acl | where acl != \"system\"</query>\n        <earliest>-15m</earliest>\n        <latest>now</latest>\n      </search>\n    </input>\n    <input type=\"dropdown\" token=\"owner\">\n      <label>Owner</label>\n      <fieldForLabel>username</fieldForLabel>\n      <fieldForValue>username</fieldForValue>\n      <search>\n        <query>| stats count\n| fields - count\n| eval username=\"nobody\"\n| append [|rest /services/authentication/current-context/context | table username]</query>\n      </search>\n      <initialValue>admin</initialValue>\n    </input>\n    <input type=\"text\" token=\"limit\">\n      <label>Max Number of Results</label>\n      <default>10</default>\n      <initialValue>10</initialValue>\n    </input>\n    <input type=\"text\" token=\"sort\">\n      <label>Sort By</label>\n      <initialValue>_key</initialValue>\n    </input>\n  </fieldset>\n  <row>\n    <panel>\n      <title>KV Store Response</title>\n      <table>\n        <search base=\"kvstore\">\n          <query> | table result</query>\n          <earliest>-15m</earliest>\n          <latest>now</latest>\n        </search>\n        <option name=\"drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </table>\n    </panel>\n  </row>\n</form>",
"eai:type": "views",
"name": "kvstore_dashboard_client",
"owner": "nobody",
"sharing": "app",
"tags": "mobile,tv"
},
{
"eai:data": "<?xml version=\"1.0\"?>\n<view template=\"splunk_secure_gateway:/templates/mdm_saml.html\" type=\"html\">\n\t<label>MDM with SAML</label>\n</view>",
"eai:type": "views",
"name": "mdm_saml",
"owner": "nobody",
"sharing": "app"
},
{
"eai:data": "<?xml version=\"1.0\"?>\n<view template=\"splunk_secure_gateway:/templates/opt_in.html\" type=\"html\">\n  <label> SOC2 Compliance Opt In Page </label>\n</view>",
"eai:type": "views",
"name": "opt_in",
"owner": "nobody",
"sharing": "app"
},
{
"eai:data": "<form hideEdit=\"True\" version=\"1.1\" theme=\"dark\">\n  <tags>mobile,tv</tags>\n  <label>Recent SSG Dashboard Activity</label>\n  <description>Use this dashboard to troubleshoot a Dashboard that isn\u2019t loading. Select a time range to get a list of most recently viewed Dashboards.</description>\n  <search id=\"base_create\">\n    <query>index=_internal sourcetype=\"secure_gateway_app_internal_log\" \"Dashboard Source Subscription Created\" | eval temp=split(dashboard_id, \"/\") \n| eval dashboard_user=mvindex(temp,0)| eval dashboard_app=mvindex(temp,1) \n| eval dashboard_name=mvindex(temp,2) | fields _time, search_key, request_id, device_id, current_user, dashboard_id, shard_id, is_alert, subscription_id, search_type_id, dashboard_user, dashboard_app, dashboard_name</query>\n    <earliest>$field1.earliest$</earliest>\n    <latest>$field1.latest$</latest>\n  </search>\n  <search id=\"base_dashboard_view\">\n    <query>| rest \"servicesNS/$dashboardUser$/$dashboardApp$/data/ui/views/$dashboardName$?output_mode=json\" \n| fields label, name, tags</query>\n  </search>\n  <search id=\"base_device_reg\">\n    <query>| rest \"services/ssg/kvstore_client\" \nmethod=get\napp=splunk_secure_gateway\ncollection=registered_devices\nowner=$currentUser$\nsort=_key\nlimit=1000\npost_data=\"{}\" | spath input=result path={}. output=data \n| mvexpand data\n| spath input=data \n| search device_id=\"$deviceId$\"\n| fields app_id, app_name, auth_method, device_management_method, device_name, device_registered_timestamp, device_type, platform, registration_method, device_id, user</query>\n  </search>\n  <search id=\"base_dashboard_subscriptions\">\n    <query>index=_internal sourcetype=\"secure_gateway_app_internal_log\" [search index=_internal sourcetype=\"secure_gateway_app_internal_log\" \"Dashboard Source Subscription Created\" dashboard_id=\"$dashboardId$\" | dedup subscription_id | fields subscription_id | format] | fields log_level subscription_id</query>\n    <earliest>$field1.earliest$</earliest>\n    <latest>$field1.latest$</latest>\n  </search>\n  <search id=\"base_subscription\">\n    <query>index=_internal sourcetype=\"secure_gateway_app_internal_log\" subscription_id=$subscriptionId$ | fields log_level, type, _time</query>\n    <earliest>$field1.earliest$</earliest>\n    <latest>$field1.latest$</latest>\n  </search>\n  <search id=\"base_updates_sent\">\n    <query>index=_internal sourcetype=secure_gateway_app_internal_log subscription_id=$subscriptionId$ | transaction update_id startswith=(\"Sending subscription update\" OR \"Start Post Process Single Subscription Update\") endswith=(\"Subscription Update Sent\" OR \"Send Post Process Single Subscription Update\") | eval latency = duration | eval dispatch_state_enum=case(dispatch_state==0, \"NONE\", dispatch_state==1, \"QUEUED\", dispatch_state==2, \"PARSING\", dispatch_state==3, \"RUNNING\", dispatch_state==4, \"FINALIZING\", dispatch_state==5, \"DONE\", dispatch_state==6, \"FAILED\", dispatch_state==7, \"PAUSED\") | table _time, update_id, type, latency, done_progress, dispatch_state_enum</query>\n    <earliest>$field1.earliest$</earliest>\n    <latest>$field1.latest$</latest>\n  </search>\n  <search base=\"base_subscription\" id=\"base_unsubscribe\">\n    <query>| search \"Finished process_unsubscribe_request\" | fields count</query>\n  </search>\n  <fieldset submitButton=\"false\">\n    <input type=\"time\" token=\"field1\" searchWhenChanged=\"true\">\n      <label></label>\n      <default>\n        <earliest>-15m</earliest>\n        <latest>now</latest>\n      </default>\n    </input>\n  </fieldset>\n  <row>\n    <panel>\n      <table>\n        <title>Recent Dashboards Requested by Device</title>\n        <search base=\"base_create\">\n          <query>| stats latest(_time) as _time, values(subscription_id) as subscription_ids, values(search_key) as search_keys by dashboard_user dashboard_app dashboard_name dashboard_id device_id current_user | stats count(search_keys) as search_count, latest(_time) as _time by dashboard_user dashboard_app dashboard_name dashboard_id device_id current_user| sort - _time</query>\n        </search>\n        <option name=\"count\">20</option>\n        <option name=\"dataOverlayMode\">none</option>\n        <option name=\"drilldown\">row</option>\n        <option name=\"percentagesRow\">false</option>\n        <option name=\"rowNumbers\">false</option>\n        <option name=\"totalsRow\">false</option>\n        <option name=\"wrap\">true</option>\n        <drilldown>\n          <eval token=\"dashboardId\">$row.dashboard_id$</eval>\n          <eval token=\"dashboardName\">$row.dashboard_name$</eval>\n          <eval token=\"dashboardApp\">$row.dashboard_app$</eval>\n          <eval token=\"dashboardUser\">$row.dashboard_user$</eval>\n          <eval token=\"deviceId\">$row.device_id$</eval>\n          <eval token=\"currentUser\">$row.current_user$</eval>\n          <unset token=\"subscriptionId\"></unset>\n        </drilldown>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Dashboard</title>\n        <search base=\"base_dashboard_view\">\n          <query>| table label</query>\n        </search>\n        <option name=\"drilldown\">all</option>\n        <drilldown>\n          <link target=\"_blank\">/app/$dashboardApp$/$dashboardName$</link>\n        </drilldown>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Dashboard Tags</title>\n        <search base=\"base_dashboard_view\">\n          <query>| table tags</query>\n        </search>\n        <option name=\"drilldown\">all</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Current User</title>\n        <search base=\"base_device_reg\">\n          <query>| table user</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Device Name</title>\n        <search base=\"base_device_reg\">\n          <query>| eval device_name_str = if(device_name==\"\", \"None\", device_name)| table device_name_str</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Device Type</title>\n        <search base=\"base_device_reg\">\n          <query>| table device_type</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Device ID</title>\n        <search base=\"base_device_reg\">\n          <query>| eval device = substr(device_id, 0, 6) | table device</query>\n        </search>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Platform</title>\n        <search base=\"base_device_reg\">\n          <query>| table platform</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Auth Method</title>\n        <search base=\"base_device_reg\">\n          <query>| table auth_method</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Registration Method</title>\n        <search base=\"base_device_reg\">\n          <query>| table registration_method</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>MDM</title>\n        <search base=\"base_device_reg\">\n          <query>| eval mdm = if(device_management_method == \"not_mdm\", \"NO\", \"YES\") | table mdm</query>\n        </search>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Subscription Errors for ($dashboardId$)</title>\n        <search base=\"base_dashboard_subscriptions\">\n          <query>|search log_level=ERROR | stats count as error_count | eval errors = if(error_count &gt; 0, \"YES\", \"NONE\") | eval range=if(error_count &gt; 0, \"severe\", \"low\") | table errors, range</query>\n        </search>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">all</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0]</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"useColors\">0</option>\n        <drilldown>\n          <link target=\"_blank\">/app/search/search?q=index=_internal sourcetype=\"secure_gateway_app_internal_log\" [search index=_internal sourcetype=\"secure_gateway_app_internal_log\" \"Dashboard Source Subscription Created\" dashboard_id=\"$dashboardId$\" | dedup subscription_id | fields subscription_id | format] log_level=ERROR</link>\n        </drilldown>\n      </single>\n    </panel>\n    <panel>\n      <table>\n        <title>Error Count by ($dashboardId$) Subscriptions</title>\n        <search base=\"base_dashboard_subscriptions\">\n          <query>| search log_level=ERROR | stats count by subscription_id</query>\n        </search>\n        <option name=\"count\">20</option>\n        <option name=\"dataOverlayMode\">none</option>\n        <option name=\"drilldown\">row</option>\n        <option name=\"percentagesRow\">false</option>\n        <option name=\"rowNumbers\">false</option>\n        <option name=\"totalsRow\">false</option>\n        <option name=\"wrap\">true</option>\n        <drilldown>\n          <eval token=\"subscriptionId\">$row.subscription_id$</eval>\n        </drilldown>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <table>\n        <title>Subscriptions ($dashboardId$)</title>\n        <search base=\"base_create\">\n          <query>| search dashboard_id=\"$dashboardId$\" device_id=\"$deviceId$\" current_user=\"$currentUser$\" | table _time, search_type_id, subscription_id, search_key, request_id</query>\n        </search>\n        <option name=\"count\">10</option>\n        <option name=\"dataOverlayMode\">none</option>\n        <option name=\"drilldown\">row</option>\n        <option name=\"percentagesRow\">false</option>\n        <option name=\"rowNumbers\">false</option>\n        <option name=\"totalsRow\">false</option>\n        <option name=\"wrap\">true</option>\n        <drilldown>\n          <eval token=\"subscriptionId\">$row.subscription_id$</eval>\n        </drilldown>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Subscription Errors for $subscriptionId$</title>\n        <search base=\"base_subscription\">\n          <query>| search log_level=ERROR | stats count as error_count | eval errors = if(error_count &gt; 0, \"YES\", \"NONE\") | eval range=if(error_count &gt; 0, \"severe\", \"low\") | table errors, range</query>\n        </search>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">all</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0]</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"useColors\">0</option>\n        <drilldown>\n          <link target=\"_blank\">/app/search/search?q=search index=_internal sourcetype=secure_gateway_app_internal_log subscription_id=$subscriptionId$ log_level=ERROR</link>\n        </drilldown>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Type</title>\n        <search base=\"base_subscription\">\n          <query>| search \"Subscription Update Sent\" OR \"Skipping subscription update\" OR \"Send Post Process Single Subscription Update\" | head 1 | table type</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Currently Subscribed</title>\n        <search base=\"base_unsubscribe\">\n          <query>| stats count as count\n                 | eval ok = if(count &gt; 0, \"NO\", \"YES\")\n                 | eval range=if(count &gt; 0, \"severe\", \"low\")\n                 | table ok, range\n          </query>\n        </search>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Total Updates</title>\n        <search base=\"base_updates_sent\">\n          <query>|stats count| table count</query>\n        </search>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Updates Skipped</title>\n        <search base=\"base_subscription\">\n          <query>| search \"Skipping subscription update\" | stats count | table count</query>\n        </search>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Average Update Latency</title>\n        <search base=\"base_updates_sent\">\n          <query>| stats avg(latency) as avg_latency by update_id | table avg_latency</query>\n        </search>\n        <option name=\"numberPrecision\">0.000</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[1,5,10]</option>\n        <option name=\"unit\">s</option>\n        <option name=\"useColors\">1</option>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Total Processing Time</title>\n        <search base=\"base_subscription\">\n          <query>| stats max(_time) as maxtime min(_time) as mintime | eval difference=maxtime-mintime | table difference</query>\n        </search>\n        <option name=\"numberPrecision\">0.000</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[1,5,10]</option>\n        <option name=\"unit\">s</option>\n        <option name=\"useColors\">1</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <table>\n        <title>Updates: $subscriptionId$</title>\n        <search base=\"base_updates_sent\"></search>\n        <option name=\"count\">10</option>\n        <option name=\"dataOverlayMode\">none</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"percentagesRow\">false</option>\n        <option name=\"rowNumbers\">false</option>\n        <option name=\"totalsRow\">false</option>\n        <option name=\"wrap\">true</option>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <event>\n        <title>Raw Events: $subscriptionId$</title>\n        <search base=\"base_subscription\"></search>\n        <option name=\"count\">10</option>\n        <option name=\"list.drilldown\">none</option>\n        <option name=\"list.wrap\">1</option>\n        <option name=\"maxLines\">5</option>\n        <option name=\"raw.drilldown\">full</option>\n        <option name=\"rowNumbers\">0</option>\n        <option name=\"table.drilldown\">all</option>\n        <option name=\"table.sortDirection\">asc</option>\n        <option name=\"table.wrap\">1</option>\n        <option name=\"type\">list</option>\n      </event>\n    </panel>\n  </row>\n</form>",
"eai:type": "views",
"name": "recent_ssg_dashboard_activity",
"owner": "nobody",
"sharing": "app",
"tags": "mobile,tv"
},
{
"eai:data": "<form hideEdit=\"True\" version=\"1.1\" theme=\"dark\">\n  <tags>mobile,tv</tags>\n  <label>Request Tracing</label>\n  <description>Troubleshoot and trace a particular request. Select a time range and a request ID to get troubleshooting logs and a stack trace. </description>\n  <search id=\"base\">\n    <query>\n      index=_internal sourcetype=secure_gateway_app_internal_log | transaction request_id startswith=\"Incoming message\" endswith=\"message=SENT_BACK\" | eval latency = duration | fields request_id, type, current_user, device_id, latency\n    </query>\n    <earliest>$field1.earliest$</earliest>\n    <latest>$field1.latest$</latest>\n  </search>\n  <search id=\"base_request\">\n    <query>index=_internal sourcetype=secure_gateway_app_internal_log request_id=$requestId$ | fields log_level, count, time_taken</query>\n    <earliest>$field1.earliest$</earliest>\n    <latest>$field1.latest$</latest>\n  </search>\n  <fieldset submitButton=\"false\" autoRun=\"true\">\n    <input type=\"time\" token=\"field1\" searchWhenChanged=\"true\">\n      <label></label>\n      <default>\n        <earliest>-15m</earliest>\n        <latest>now</latest>\n      </default>\n    </input>\n    <input type=\"text\" token=\"requestId\" searchWhenChanged=\"true\">\n      <label>Request ID</label>\n      <default>$requestId$</default>\n    </input>\n  </fieldset>\n  <row>\n    <panel>\n      <table>\n        <title>All Requests: Click on row to trace particular request</title>\n        <search base=\"base\">\n          <query>| table _time, request_id, type, current_user, device_id, latency</query>\n        </search>\n        <option name=\"count\">10</option>\n        <option name=\"dataOverlayMode\">none</option>\n        <option name=\"drilldown\">row</option>\n        <option name=\"percentagesRow\">false</option>\n        <option name=\"rowNumbers\">false</option>\n        <option name=\"totalsRow\">false</option>\n        <option name=\"wrap\">true</option>\n        <format type=\"number\" field=\"duration\">\n          <option name=\"precision\">3</option>\n          <option name=\"unit\">s</option>\n        </format>\n        <format type=\"number\" field=\"latency\">\n          <option name=\"precision\">3</option>\n          <option name=\"unit\">s</option>\n        </format>\n        <format type=\"color\" field=\"latency\">\n          <colorPalette type=\"list\">[#53A051,#F8BE34,#F1813F,#DC4E41]</colorPalette>\n          <scale type=\"threshold\">1,5,10</scale>\n        </format>\n        <drilldown>\n          <eval token=\"requestId\">$row.request_id$</eval>\n        </drilldown>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Request Errors for $requestId$</title>\n        <search base=\"base_request\">\n          <query>|search log_level=ERROR | stats count as error_count | eval errors = if(error_count &gt; 0, \"YES\", \"NONE\") | eval range=if(error_count &gt; 0, \"severe\", \"low\") | table errors, range</query>\n        </search>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">all</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0]</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"useColors\">0</option>\n        <drilldown>\n          <link target=\"_blank\">/app/search/search?q=search index=_internal sourcetype=secure_gateway_app_internal_log request_id=$requestId$ log_level=ERROR</link>\n        </drilldown>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Type</title>\n        <search base=\"base\">\n          <query>|search request_id=$requestId$ | table type</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Current User</title>\n        <search base=\"base\">\n          <query>|search request_id=$requestId$ | table current_user</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Device ID</title>\n        <search base=\"base\">\n          <query>|search request_id=$requestId$ | eval device = substr(device_id, 0, 6) | table device</query>\n        </search>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <chart>\n        <title>Rest API Call Timing</title>\n        <search base=\"base_request\">\n          <query>  | rex field=_raw \"(?&lt;uri&gt;(GET|POST|DELETE) uri=https.*?), \" | chart sum(time_taken) over uri</query>\n        </search>\n        <option name=\"charting.chart\">pie</option>\n        <option name=\"charting.drilldown\">all</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </chart>\n    </panel>\n    <panel>\n      <single>\n        <title>Total Latency</title>\n        <search base=\"base\">\n          <query>|search request_id=$requestId$ | table latency</query>\n        </search>\n        <option name=\"colorBy\">value</option>\n        <option name=\"colorMode\">none</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"numberPrecision\">0.000</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[1,5,10]</option>\n        <option name=\"showSparkline\">1</option>\n        <option name=\"showTrendIndicator\">1</option>\n        <option name=\"trellis.enabled\">0</option>\n        <option name=\"trellis.scales.shared\">1</option>\n        <option name=\"trellis.size\">medium</option>\n        <option name=\"trendColorInterpretation\">standard</option>\n        <option name=\"trendDisplayMode\">absolute</option>\n        <option name=\"unit\">s</option>\n        <option name=\"unitPosition\">after</option>\n        <option name=\"useColors\">1</option>\n        <option name=\"useThousandSeparators\">1</option>\n      </single>\n    </panel>\n    <panel>\n      <chart>\n        <title>HTTP Call Response Time Buckets (seconds)</title>\n        <search base=\"base_request\">\n          <query>| bucket time_taken | stats count by time_taken</query>\n        </search>\n        <option name=\"charting.chart\">pie</option>\n        <option name=\"charting.drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </chart>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <event>\n        <title>Raw Events: $requestId$</title>\n        <search base=\"base_request\"></search>\n        <option name=\"count\">10</option>\n        <option name=\"list.drilldown\">none</option>\n        <option name=\"list.wrap\">1</option>\n        <option name=\"maxLines\">5</option>\n        <option name=\"raw.drilldown\">full</option>\n        <option name=\"rowNumbers\">0</option>\n        <option name=\"table.drilldown\">all</option>\n        <option name=\"table.sortDirection\">asc</option>\n        <option name=\"table.wrap\">1</option>\n        <option name=\"type\">list</option>\n      </event>\n    </panel>\n  </row>\n</form>",
"eai:type": "views",
"name": "request_tracing_dashboard",
"owner": "nobody",
"sharing": "app",
"tags": "mobile,tv"
},
{
"eai:data": "<dashboard version=\"1.1\" theme=\"dark\">\n  <label>SAML Troubleshooting Dashboard</label>\n  <description>Dashboard to help troubleshoot SAML setup issues with Splunk Secure Gateway</description>\n  <search id=\"test_jwt\">\n    <query>| rest services/ssg/registration/test_jwt dashboard_format=true </query>\n    <earliest>-24h@h</earliest>\n    <latest>now</latest>\n  </search>\n  <row>\n    <panel>\n      <single>\n        <search>\n          <query>| makeresults | eval x = \"Test JWT Integration\" | fields x</query>\n          <earliest>-24h@h</earliest>\n          <latest>now</latest>\n        </search>\n        <option name=\"drilldown\">none</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>Are JWT Tokens Enabled</title>\n      <single>\n        <search>\n          <query>|rest services/ssg/registration/tokens_enabled dashboard_format=true\n| fields tokens_enabled\n| eval are_tokens_enabled=if( tokens_enabled=\"1\",\"Yes\",\"No\" )\n| eval range=if(are_tokens_enabled=\"Yes\", \"low\", \"severe\")\n| table are_tokens_enabled, range</query>\n          <earliest>-15m</earliest>\n          <latest>now</latest>\n        </search>\n        <option name=\"drilldown\">none</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </single>\n    </panel>\n    <panel>\n      <title>JWT Token Test</title>\n      <single>\n        <search base=\"test_jwt\">\n          <query>\n| fields JWT\n| eval result=if(isnull(JWT), \"Failed\", \"Success\")\n| eval range=if(result=\"Success\", \"low\", \"severe\")\n| table  result, range</query>\n        </search>\n        <option name=\"drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </single>\n    </panel>\n    <panel>\n      <title>Token Expiry</title>\n      <single>\n        <search>\n          <query>| rest services/ssg/registration/test_jwt dashboard_format=true \n| fields token_expiration\n| eval result=if(isnull(token_expiration), \"Error Occured\", token_expiration)\n| eval range=if(result=\"Error Occured\", \"severe\", \"low\")\n| table  result, range</query>\n          <earliest>-24h@h</earliest>\n          <latest>now</latest>\n        </search>\n        <option name=\"drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </single>\n    </panel>\n    <panel>\n      <title>Error Type</title>\n      <single>\n        <search base=\"test_jwt\">\n          <query>\n| fields error_type, message\n| eval is_error = if(isnull(error_type), \"false\", \"true\")\n| eval msg = if(is_error==\"true\", error_type, \"No Error\")\n| eval range=if(msg=\"No Error\", \"low\", \"severe\")\n| table msg, range, is_error</query>\n        </search>\n        <option name=\"drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </single>\n    </panel>\n    <panel>\n      <title>Error Message</title>\n      <table>\n        <search base=\"test_jwt\">\n          <query>\n| fields error_type, message\n| eval is_error = if(isnull(message), \"false\", \"true\")\n| eval msg = if(is_error==\"true\", message, \"No Error\")\n| table msg</query>\n        </search>\n        <option name=\"drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <search>\n          <query>| makeresults | eval x = \"Validate SAML Configuration\" | fields x</query>\n          <earliest>-24h@h</earliest>\n          <latest>now</latest>\n        </search>\n        <option name=\"drilldown\">none</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>SAML Setup Checks</title>\n      <table>\n        <search>\n          <query>|rest services/ssg/registration/correct_saml_setup dashboard_format=true\n| fields attributeQueryRequestSigned, attributeQueryResponseSigned, attributeQuerySoapUsername, idpAttributeQueryUrl, scriptPath, scriptTimeout, getUserInfoTtl, useAuthExtForTokenAuthOnly,scriptFunctions, scriptSecureArguments, SAML\n| eval attributeQueryRequestSigned=if(attributeQueryRequestSigned=0, \"false\", \"true\")\n| eval attributeQueryResponseSigned=if(attributeQueryResponseSigned=0, \"false\", \"true\")\n| eval attributeQuerySoapUsername=if(attributeQuerySoapUsername=0, \"false\", \"true\")\n| eval idpAttributeQueryUrl=if(idpAttributeQueryUrl=0, \"false\", \"true\")\n| eval scriptPath=if(scriptPath=0, \"false\", \"true\")\n| eval scriptTimeout=if(scriptTimeout=0, \"false\", \"true\")\n| eval getUserInfoTtl=if(getUserInfoTtl=0, \"false\", \"true\")\n| eval useAuthExtForTokenAuthOnly=if(useAuthExtForTokenAuthOnly=0, \"false\", \"true\")\n| eval scriptFunctions=if(scriptFunctions=0, \"false\", \"true\")\n| eval scriptSecureArguments=if(scriptSecureArguments=0, \"false\", \"true\")\n| eval SAML=if(SAML=0, \"false\", \"true\")</query>\n          <earliest>-24h@h</earliest>\n          <latest>now</latest>\n        </search>\n        <option name=\"drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </table>\n    </panel>\n  </row>\n   <row>\n    <panel>\n      <single>\n        <search>\n          <query>| makeresults | eval x = \"SAML Error Logs\" | fields x</query>\n          <earliest>-24h@h</earliest>\n          <latest>now</latest>\n        </search>\n        <option name=\"drilldown\">none</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>SAML Provider Errors</title>\n      <event>\n        <search>\n          <query>index=_internal sourcetype=splunkd ERROR AuthenticationProviderSAML</query>\n          <earliest>-24h@h</earliest>\n          <latest>now</latest>\n        </search>\n        <option name=\"list.drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </event>\n    </panel>\n    <panel>\n      <title>User Management Errors</title>\n      <event>\n        <search>\n          <query>index=_internal sourcetype=splunkd ERROR UserManagerPro</query>\n          <earliest>-24h@h</earliest>\n          <latest>now</latest>\n        </search>\n        <option name=\"list.drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n      </event>\n    </panel>\n  </row>\n</dashboard>",
"eai:type": "views",
"name": "saml_troubleshooting_dashboard",
"owner": "nobody",
"sharing": "app"
},
{
"eai:data": "<form hideEdit=\"True\" version=\"1.1\" theme=\"dark\">\n  <tags>mobile,tv</tags>\n  <label>Secure Gateway Status Dashboard</label>\n  <fieldset submitButton=\"false\">\n    <input type=\"time\" token=\"field1\">\n      <label>Time Interval</label>\n      <default>\n        <earliest>-60m@m</earliest>\n        <latest>now</latest>\n      </default>\n    </input>\n  </fieldset>\n  <row>\n    <panel>\n      <single>\n        <title>Secure Gateway Status</title>\n        <search>\n          <query>\n              index=\"_internal\" source=\"*secure_gateway*\" aiohttp_wss_protocol \"Received Pong\"\n              | head 1 | stats count as pong_count\n              | eval spacebridge_up = if(pong_count &gt; 0, \"Connected\", \"Not Connected\")\n              | eval range=if(pong_count &gt; 0, \"low\", \"severe\")\n              | table spacebridge_up, range\n          </query>\n          <earliest>-2m</earliest>\n          <latest>now</latest>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n          <sampleRatio>1</sampleRatio>\n        </search>\n        <option name=\"colorBy\">value</option>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"numberPrecision\">0</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0,30,70,100]</option>\n        <option name=\"showSparkline\">1</option>\n        <option name=\"showTrendIndicator\">1</option>\n        <option name=\"trellis.enabled\">0</option>\n        <option name=\"trellis.scales.shared\">1</option>\n        <option name=\"trellis.size\">medium</option>\n        <option name=\"trendColorInterpretation\">standard</option>\n        <option name=\"trendDisplayMode\">absolute</option>\n        <option name=\"unitPosition\">after</option>\n        <option name=\"useColors\">0</option>\n        <option name=\"useThousandSeparators\">1</option>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>KV Store Status</title>\n        <search>\n          <query>\n              | rest services/kvstore/status\n              | search current.disabled = 0\n              | fields current.status\n              | eval upper=upper('current.status')\n              | eval range=if(upper=\"READY\", \"low\", \"severe\")\n              | table upper range\n          </query>\n          <earliest>-1m</earliest>\n          <latest>now</latest>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"colorBy\">value</option>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"numberPrecision\">0</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0,30,70,100]</option>\n        <option name=\"showSparkline\">1</option>\n        <option name=\"showTrendIndicator\">1</option>\n        <option name=\"trellis.enabled\">0</option>\n        <option name=\"trellis.scales.shared\">1</option>\n        <option name=\"trellis.size\">medium</option>\n        <option name=\"trendColorInterpretation\">standard</option>\n        <option name=\"trendDisplayMode\">absolute</option>\n        <option name=\"unitPosition\">after</option>\n        <option name=\"useColors\">0</option>\n        <option name=\"useThousandSeparators\">1</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <html>\n       <h1>Secure Gateway Reachability</h1>\n     </html>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Websocket</title>\n        <search>\n          <query>\n              | noop | checkssgmobilewss\n              | eval ok = if(websocket &gt; 0, \"OK\", \"Failed\")\n              | eval range=if(websocket &gt; 0, \"low\", \"severe\")\n              | table ok, range\n          </query>\n          <earliest>-1s</earliest>\n          <latest>now</latest>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"useColors\">0</option>\n        <option name=\"colorMode\">block</option>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>HTTPS (Sync)</title>\n        <search>\n          <query>\n              | noop | checkssgmobilehttps\n              | eval ok = if(https_sync &gt; 0, \"OK\", \"Failed\")\n              | eval range=if(https_sync &gt; 0, \"low\", \"severe\")\n              | table ok, range\n          </query>\n          <earliest>-1s</earliest>\n          <latest>now</latest>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"useColors\">0</option>\n        <option name=\"colorMode\">block</option>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>HTTPS (Async)</title>\n        <search>\n          <query>\n              | noop | checkssgmobileasync\n              | eval ok = if(https_async &gt; 0, \"OK\", \"Failed\")\n              | eval range=if(https_async &gt; 0, \"low\", \"severe\")\n              | table ok, range\n          </query>\n          <earliest>-1s</earliest>\n          <latest>now</latest>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0]</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"useColors\">0</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <chart>\n        <title>Messages Received and Sent by Secure Gateway</title>\n        <search>\n          <query>\n              index=\"_internal\" source=\"*secure_gateway*\" message=\"RECEIVED_ENVELOPE\" OR message=\"SENT_BACK\"\n              | bin span=2min _time\n              | timechart span=2m count by message\n          </query>\n          <earliest>$field1.earliest$</earliest>\n          <latest>$field1.latest$</latest>\n          <sampleRatio>1</sampleRatio>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n        <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n        <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n        <option name=\"charting.axisTitleY.visibility\">collapsed</option>\n        <option name=\"charting.axisTitleY2.visibility\">visible</option>\n        <option name=\"charting.axisX.abbreviation\">none</option>\n        <option name=\"charting.axisX.scale\">linear</option>\n        <option name=\"charting.axisY.abbreviation\">none</option>\n        <option name=\"charting.axisY.scale\">linear</option>\n        <option name=\"charting.axisY2.abbreviation\">none</option>\n        <option name=\"charting.axisY2.enabled\">0</option>\n        <option name=\"charting.axisY2.scale\">inherit</option>\n        <option name=\"charting.chart\">line</option>\n        <option name=\"charting.chart.bubbleMaximumSize\">50</option>\n        <option name=\"charting.chart.bubbleMinimumSize\">10</option>\n        <option name=\"charting.chart.bubbleSizeBy\">area</option>\n        <option name=\"charting.chart.nullValueMode\">gaps</option>\n        <option name=\"charting.chart.showDataLabels\">none</option>\n        <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n        <option name=\"charting.chart.stackMode\">default</option>\n        <option name=\"charting.chart.style\">shiny</option>\n        <option name=\"charting.drilldown\">none</option>\n        <option name=\"charting.layout.splitSeries\">0</option>\n        <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n        <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n        <option name=\"charting.legend.mode\">standard</option>\n        <option name=\"charting.legend.placement\">bottom</option>\n        <option name=\"charting.lineWidth\">2</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"trellis.enabled\">0</option>\n        <option name=\"trellis.scales.shared\">1</option>\n        <option name=\"trellis.size\">medium</option>\n      </chart>\n    </panel>\n    <panel>\n      <table>\n        <title>Average Request Latency By Type</title>\n        <search>\n          <query>\n               index=\"_internal\" sourcetype=\"secure_gateway_app_internal_log\" message_processor process_request_list OR process_message NOT ERROR\n               | transaction request_id startswith=\"process_request_list\" endswith=\"Finished processing\"\n               | stats count(duration), avg(duration) by type\n               | rename avg(duration) as latency\n               | rename count(duration) as count\n               | table type, count, latency\n           </query>\n          <earliest>$field1.earliest$</earliest>\n          <latest>$field1.latest$</latest>\n          <sampleRatio>1</sampleRatio>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"count\">10</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <format type=\"color\" field=\"count\">\n          <colorPalette type=\"minMidMax\" maxColor=\"#31A35F\" minColor=\"#FFFFFF\"></colorPalette>\n          <scale type=\"minMidMax\"></scale>\n        </format>\n        <format type=\"color\" field=\"type\">\n          <colorPalette type=\"sharedList\"></colorPalette>\n          <scale type=\"sharedCategory\"></scale>\n        </format>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <chart>\n        <title>Error Count By Module Name</title>\n        <search>\n          <query>\n              index=\"_internal\" sourcetype=\"secure_gateway_app_internal_log\" log_level=ERROR\n              | bin span=2min _time\n              | timechart span=2m count by app_name\n          </query>\n          <earliest>$field1.earliest$</earliest>\n          <latest>$field1.latest$</latest>\n          <sampleRatio>1</sampleRatio>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n        <option name=\"charting.chart\">line</option>\n        <option name=\"charting.drilldown\">all</option>\n        <option name=\"charting.legend.placement\">bottom</option>\n        <option name=\"height\">300</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"trellis.enabled\">0</option>\n        <option name=\"trellis.scales.shared\">1</option>\n        <option name=\"trellis.size\">medium</option>\n      </chart>\n    </panel>\n    <panel>\n      <chart>\n        <title>Websocket Disconnections Count</title>\n        <search>\n          <query>\n              index=\"_internal\" source=\"*secure_gateway*\" protocol \"Websocket connection was closed\"\n              | bin span=1h _time\n              | timechart span=1h count\n          </query>\n          <earliest>$field1.earliest$</earliest>\n          <latest>$field1.latest$</latest>\n          <sampleRatio>1</sampleRatio>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n        <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n        <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n        <option name=\"charting.axisTitleY.visibility\">visible</option>\n        <option name=\"charting.axisTitleY2.visibility\">visible</option>\n        <option name=\"charting.axisX.abbreviation\">none</option>\n        <option name=\"charting.axisX.scale\">linear</option>\n        <option name=\"charting.axisY.abbreviation\">none</option>\n        <option name=\"charting.axisY.scale\">linear</option>\n        <option name=\"charting.axisY2.abbreviation\">none</option>\n        <option name=\"charting.axisY2.enabled\">0</option>\n        <option name=\"charting.axisY2.scale\">inherit</option>\n        <option name=\"charting.chart\">line</option>\n        <option name=\"charting.chart.bubbleMaximumSize\">50</option>\n        <option name=\"charting.chart.bubbleMinimumSize\">10</option>\n        <option name=\"charting.chart.bubbleSizeBy\">area</option>\n        <option name=\"charting.chart.nullValueMode\">gaps</option>\n        <option name=\"charting.chart.showDataLabels\">none</option>\n        <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n        <option name=\"charting.chart.stackMode\">default</option>\n        <option name=\"charting.chart.style\">shiny</option>\n        <option name=\"charting.drilldown\">none</option>\n        <option name=\"charting.layout.splitSeries\">0</option>\n        <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n        <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n        <option name=\"charting.legend.mode\">standard</option>\n        <option name=\"charting.legend.placement\">none</option>\n        <option name=\"charting.lineWidth\">2</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"trellis.enabled\">0</option>\n        <option name=\"trellis.scales.shared\">1</option>\n        <option name=\"trellis.size\">medium</option>\n      </chart>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <event>\n        <title>Most Recent Error Messages</title>\n        <search>\n          <query>\n              index=\"_internal\" sourcetype=\"secure_gateway_app_internal_log\" log_level=ERROR | head 10\n          </query>\n          <earliest>$field1.earliest$</earliest>\n          <latest>$field1.latest$</latest>\n          <refresh>1m</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"count\">3</option>\n        <option name=\"list.drilldown\">none</option>\n        <option name=\"list.wrap\">1</option>\n        <option name=\"maxLines\">3</option>\n        <option name=\"raw.drilldown\">none</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"table.drilldown\">none</option>\n        <option name=\"table.wrap\">1</option>\n        <option name=\"type\">list</option>\n      </event>\n    </panel>\n  </row>\n</form>",
"eai:type": "views",
"name": "secure_gateway_status_dashboard",
"owner": "nobody",
"sharing": "app",
"tags": "mobile,tv"
},
{
"eai:data": "<?xml version=\"1.0\"?>\n<view template=\"splunk_secure_gateway:/templates/self_register.html\" type=\"html\">\n\t<label>Self Register</label>\n</view>",
"eai:type": "views",
"name": "self_register",
"owner": "nobody",
"sharing": "app"
},
{
"eai:data": "<form hideEdit=\"True\" theme=\"dark\" version=\"1.1\">\n  <tags>mobile,tv</tags>\n  <label>End-to-End Websocket Test</label>\n  <description>Initiate a sample request to run an end-to-end websocket test for Splunk Secure Gateway, device authentication, and Spacebridge messaging. This dashboard requires JSON Web Tokens (JWT) to be enabled.</description>\n  <search id=\"e2e_test\">\n    <query>| rest \"services/ssg/test_websocket\" request_type=$request_type$ request_mode=$request_mode$</query>\n    <earliest>-15m</earliest>\n    <latest>now</latest>\n    <done>\n      <set token=\"rid\">$result.wss_rid$</set>\n    </done>\n  </search>\n  <fieldset submitButton=\"true\" autoRun=\"false\">\n    <input type=\"dropdown\" token=\"request_mode\">\n      <label>Mode</label>\n      <choice value=\"clientSingleRequest\">Single Request</choice>\n      <choice value=\"clientSubscriptionMessage\">Subscription Message</choice>\n      <initialValue>clientSingleRequest</initialValue>\n    </input>\n    <input type=\"dropdown\" token=\"request_type\">\n      <label>Request Type</label>\n      <choice value=\"&quot;{\\&quot;versionGetRequest\\&quot;: {}}&quot;\">Version Get Request</choice>\n      <choice value=\"&quot;{\\&quot;appListRequest\\&quot;: {}}&quot;\">App List Request</choice>\n      <choice value=\"&quot;{\\&quot;dashboardListRequest\\&quot;:{\\&quot;minimalList\\&quot;: true}}&quot;\">Minimal Dashboard List</choice>\n      <choice value=\"&quot;{\\&quot;alertsListRequest\\&quot;: {}}&quot;\">Alerts List Request</choice>\n      <choice value=\"&quot;{\\&quot;genericMessage\\&quot;: {\\&quot;namespace\\&quot;:\\&quot;com.splunk.app.tv\\&quot;, \\&quot;message\\&quot;:\\&quot;hello world\\&quot;}}&quot;\">Generic Message Request</choice>\n      <choice value=\"&quot;{\\&quot;dashboardListRequest\\&quot;:     {\\&quot;dashboardIds\\&quot;: [\\&quot;nobody/splunk_secure_gateway/secure_gateway_status_dashboard\\&quot;]} }&quot;\">Dashboard List Request</choice>\n      <choice value=\"&quot;{ \\&quot;clientSubscribeRequest\\&quot; :{ \\&quot;ttlSeconds\\&quot;: 120,       \\&quot;dashboardVisualizationSubscribe\\&quot;: {         \\&quot;dashboardVisualizationId\\&quot;: {           \\&quot;dashboardId\\&quot;:\\&quot;nobody/splunk_secure_gateway/secure_gateway_status_dashboard\\&quot;,           \\&quot;visualizationId\\&quot;: \\&quot;41cf0df3785e27534660e0cb5c55e55959f847d6563675484c99e3c348e84607/0/0\\&quot; } } } }&quot;\">Client Subscribe Request</choice>\n      <initialValue>\"{\\\"versionGetRequest\\\": {}}\"</initialValue>\n    </input>\n  </fieldset>\n  <row>\n    <panel>\n      <title>Auth Code Validation</title>\n      <single>\n        <search base=\"e2e_test\">\n          <query>| eval status=if(auth_code_status=\"200\", \"Success\", if(auth_code_status=\"0\", \"Did not run\", \"Failure\"))\n| eval range=if(status=\"Success\", \"low\", \"severe\")\n| table  status range</query>\n        </search>\n        <option name=\"colorBy\">value</option>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"numberPrecision\">0</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0,30,70,100]</option>\n        <option name=\"showSparkline\">1</option>\n        <option name=\"showTrendIndicator\">1</option>\n        <option name=\"trellis.enabled\">0</option>\n        <option name=\"trellis.scales.shared\">1</option>\n        <option name=\"trellis.size\">medium</option>\n        <option name=\"trendColorInterpretation\">standard</option>\n        <option name=\"trendDisplayMode\">absolute</option>\n        <option name=\"unitPosition\">after</option>\n        <option name=\"useColors\">0</option>\n        <option name=\"useThousandSeparators\">1</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>Server Side Registration</title>\n      <single>\n        <search base=\"e2e_test\">\n          <query>| eval status=if(server_registration_status=\"201\", \"Success\", if(server_registration_status=\"0\", \"Did not run\", \"Failure\"))\n| eval range=if(status=\"Success\", \"low\",  if(status=\"Failure\", \"severe\", \"guarded\"))\n| table status range</query>\n        </search>\n        <option name=\"colorBy\">value</option>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"numberPrecision\">0</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0,30,70,100]</option>\n        <option name=\"showSparkline\">1</option>\n        <option name=\"showTrendIndicator\">1</option>\n        <option name=\"trellis.enabled\">0</option>\n        <option name=\"trellis.scales.shared\">1</option>\n        <option name=\"trellis.size\">medium</option>\n        <option name=\"trendColorInterpretation\">standard</option>\n        <option name=\"trendDisplayMode\">absolute</option>\n        <option name=\"unitPosition\">after</option>\n        <option name=\"useColors\">0</option>\n        <option name=\"useThousandSeparators\">1</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>Websocket Test</title>\n      <single>\n        <search base=\"e2e_test\">\n          <query>| eval status=if(wss_response=\"0\", \"Did Not Run\", if(wss_response!=\"[]\", \"Success\", \"Failure\"))\n| eval range=if(status=\"Success\", \"low\",  if(status=\"Failure\", \"severe\", \"guarded\"))\n| table status range</query>\n        </search>\n        <option name=\"colorBy\">value</option>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"numberPrecision\">0</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0,30,70,100]</option>\n        <option name=\"showSparkline\">1</option>\n        <option name=\"showTrendIndicator\">1</option>\n        <option name=\"trellis.enabled\">0</option>\n        <option name=\"trellis.scales.shared\">1</option>\n        <option name=\"trellis.size\">medium</option>\n        <option name=\"trendColorInterpretation\">standard</option>\n        <option name=\"trendDisplayMode\">absolute</option>\n        <option name=\"unitPosition\">after</option>\n        <option name=\"useColors\">0</option>\n        <option name=\"useThousandSeparators\">1</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>Error Message</title>\n      <single>\n        <search base=\"e2e_test\">\n          <query>| table  error | eval message=if(LEN(error) &gt; 1, error, \"N/A\") | table message</query>\n        </search>\n        <option name=\"drilldown\">none</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"useColors\">1</option>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>Websocket Response</title>\n      <table>\n        <title>(Click on panel to get full trace of request)</title>\n        <search base=\"e2e_test\">\n          <query>\n| table wss_response </query>\n        </search>\n        <option name=\"drilldown\">cell</option>\n        <drilldown>\n          <link target=\"_blank\">/app/splunk_secure_gateway/request_tracing_dashboard?requestId=$rid$</link>\n        </drilldown>\n      </table>\n    </panel>\n  </row>\n</form>",
"eai:type": "views",
"name": "ssg_e2e_wss_test",
"owner": "nobody",
"sharing": "app",
"tags": "mobile,tv"
},
{
"eai:data": "<form version=\"1.1\" theme=\"dark\">\n  <label>Secure Gateway Subscription Inspector</label>\n  <description>This dashboard is intended to help troubleshoot issues with search processing logic within Splunk Secure Gateway. To get started click on one of the subscription iterations.</description>\n  <fieldset submitButton=\"false\">\n    <input type=\"time\" token=\"time\">\n      <label>Time Range</label>\n      <default>\n        <earliest>-15m</earliest>\n        <latest>now</latest>\n      </default>\n    </input>\n  </fieldset>\n  <row>\n    <panel>\n      <title>Subscription Iterations</title>\n      <table>\n        <search>\n          <query>index=_internal source=*secure* request_id=subscription-iteration* \n| rex \"subscription-iteration-(?&lt;iteration&gt;[0-9]+) \"\n| eval iteration=strftime(iteration, \"%Y-%m-%dT %H:%M:%S.%Z\")\n| stats count by request_id, iteration \n| sort -_time \n| reverse</query>\n          <earliest>$time.earliest$</earliest>\n          <latest>$time.latest$</latest>\n          <refresh>30s</refresh>\n          <refreshType>delay</refreshType>\n        </search>\n        <option name=\"drilldown\">row</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <fields>iteration</fields>\n        <drilldown>\n          <eval token=\"request_id\">$row.request_id$</eval>\n        </drilldown>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>Current Active Searches Being Processed by SSG</title>\n      <table>\n        <title>Click On A Search To See Dispatch Status Of Search Job</title>\n        <search>\n          <query>index=_internal source=*secure* request_id=$request_id$ Processing pubsub subscription  \n| rex \"query=(?&lt;query&gt;[^\\,]+)\\,\"\n| eval last_updated=strftime(last_updated, \"%Y-%m-%dT %H:%M:%S.%Z\")\n| eval next_update=strftime(next_update, \"%Y-%m-%dT %H:%M:%S.%Z\")\n| table dashboard_id, query, subscribers, search_id, base, owner,input_tokens, last_updated, next_update, sid, search_key</query>\n          <earliest>$time.earliest$</earliest>\n          <latest>$time.latest$</latest>\n        </search>\n        <option name=\"count\">25</option>\n        <option name=\"drilldown\">row</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <fields> dashboard_id, query, subscribers, base, search_id, owner,input_tokens, last_updated, next_update</fields>\n        <drilldown>\n          <eval token=\"sid\">$row.sid$</eval>\n        </drilldown>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <title>Search Dispatch Status</title>\n      <table>\n        <search>\n          <query>|rest services/search/jobs/$sid$\n| table author, dispatchState, runDuration, doneProgress, isDone, eventCount, diskUsage, earliestTime, latestTime, sid</query>\n          <earliest>$time.earliest$</earliest>\n          <latest>$time.latest$</latest>\n        </search>\n        <option name=\"drilldown\">none</option>\n      </table>\n    </panel>\n  </row>\n</form>",
"eai:type": "views",
"name": "subscription_search_inspector",
"owner": "nobody",
"sharing": "app"
},
{
"eai:data": "<form hideEdit=\"True\" version=\"1.1\" theme=\"dark\">\n  <tags>mobile,tv</tags>\n  <label>Subscription Tracing</label>\n  <description>Use this dashboard to troubleshoot a panel that isn\u2019t loading. Select a time range and a panel ID to get troubleshooting logs and a stack trace.</description>\n  <search id=\"base\">\n    <query>index=_internal sourcetype=secure_gateway_app_internal_log (\"[create_subscription]\" \"Subscription created.\") OR \"Finished process_unsubscribe_request\" | fields subscription_id, search_key, request_id, device_id, current_user, type, log_level, count, time_taken, update_id</query>\n    <earliest>$field1.earliest$</earliest>\n    <latest>$field1.latest$</latest>\n  </search>\n  <search base=\"base\" id=\"base_create\">\n    <query>| search \"[create_subscription]\" \"Subscription created.\"</query>\n  </search>\n  <search id=\"base_subscription\">\n    <query>index=_internal sourcetype=secure_gateway_app_internal_log subscription_id=$subscriptionId$</query>\n  </search>\n  <search id=\"base_updates\">\n    <query>index=_internal sourcetype=secure_gateway_app_internal_log send_subscription_updates subscription_id=$subscriptionId$ | transaction update_id startswith=\"Sending subscription update\" endswith=\"Subscription Update Sent\" | eval latency = duration | fields _time, update_id, type, latency</query>\n  </search>\n  <search base=\"base_subscription\" id=\"base_unsubscribe\">\n    <query>| search \"Finished process_unsubscribe_request\" | fields count</query>\n  </search>\n  <fieldset submitButton=\"false\">\n    <input type=\"time\" token=\"field1\" searchWhenChanged=\"true\">\n      <label></label>\n      <default>\n        <earliest>-15m</earliest>\n        <latest>now</latest>\n      </default>\n    </input>\n    <input type=\"text\" token=\"subscriptionId\" searchWhenChanged=\"true\">\n      <label>Subscription ID</label>\n      <default>$subscriptionId$</default>\n    </input>\n  </fieldset>\n  <row>\n    <panel>\n      <table>\n        <title>All Subscriptions</title>\n        <search base=\"base_create\">\n          <query>| table _time, subscription_id, search_key, request_id, device_id, current_user</query>\n        </search>\n        <option name=\"count\">10</option>\n        <option name=\"dataOverlayMode\">none</option>\n        <option name=\"drilldown\">row</option>\n        <option name=\"percentagesRow\">false</option>\n        <option name=\"rowNumbers\">false</option>\n        <option name=\"totalsRow\">false</option>\n        <option name=\"wrap\">true</option>\n        <drilldown>\n          <eval token=\"subscriptionId\">$row.subscription_id$</eval>\n        </drilldown>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Subscription Errors for $subscriptionId$</title>\n        <search base=\"base_subscription\">\n          <query>|search log_level=ERROR | stats count as error_count | eval errors = if(error_count &gt; 0, \"YES\", \"NONE\") | eval range=if(error_count &gt; 0, \"severe\", \"low\") | table errors, range</query>\n        </search>\n        <option name=\"colorMode\">block</option>\n        <option name=\"drilldown\">all</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[0]</option>\n        <option name=\"refresh.display\">progressbar</option>\n        <option name=\"useColors\">0</option>\n        <drilldown>\n          <link target=\"_blank\">/app/search/search?q=search index=_internal sourcetype=secure_gateway_app_internal_log subscription_id=$subscriptionId$ log_level=ERROR</link>\n        </drilldown>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Type</title>\n        <search base=\"base_updates\">\n          <query>| table type</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Current User</title>\n        <search base=\"base_create\">\n          <query>| table current_user</query>\n        </search>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Device ID</title>\n        <search base=\"base_create\">\n          <query>| eval device = substr(device_id, 0, 6) | table device</query>\n        </search>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <single>\n        <title>Total Updates</title>\n        <search base=\"base_updates\">\n          <query>| stats count | table count</query>\n        </search>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Average Update Latency</title>\n        <search base=\"base_updates\">\n          <query>| stats avg(latency) as avg_latency by update_id | table avg_latency</query>\n        </search>\n        <option name=\"numberPrecision\">0.000</option>\n        <option name=\"rangeColors\">[\"0x53a051\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n        <option name=\"rangeValues\">[1,5,10]</option>\n        <option name=\"unit\">s</option>\n        <option name=\"useColors\">1</option>\n      </single>\n    </panel>\n    <panel>\n      <single>\n        <title>Currently Subscribed</title>\n        <search base=\"base_unsubscribe\">\n          <query>| stats count as count\n                 | eval ok = if(count &gt; 0, \"NO\", \"YES\")\n                 | eval range=if(count &gt; 0, \"severe\", \"low\")\n                 | table ok, range\n          </query>\n        </search>\n      </single>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <table>\n        <title>Updates: $subscriptionId$</title>\n        <search base=\"base_updates\">\n          <query>| table _time, update_id, type, latency</query>\n        </search>\n        <option name=\"count\">10</option>\n        <option name=\"dataOverlayMode\">none</option>\n        <option name=\"drilldown\">none</option>\n        <option name=\"percentagesRow\">false</option>\n        <option name=\"rowNumbers\">false</option>\n        <option name=\"totalsRow\">false</option>\n        <option name=\"wrap\">true</option>\n      </table>\n    </panel>\n  </row>\n  <row>\n    <panel>\n      <event>\n        <title>Raw Events: $subscriptionId$</title>\n        <search base=\"base_subscription\"></search>\n        <option name=\"count\">10</option>\n        <option name=\"list.drilldown\">none</option>\n        <option name=\"list.wrap\">1</option>\n        <option name=\"maxLines\">5</option>\n        <option name=\"raw.drilldown\">full</option>\n        <option name=\"rowNumbers\">0</option>\n        <option name=\"table.drilldown\">all</option>\n        <option name=\"table.sortDirection\">asc</option>\n        <option name=\"table.wrap\">1</option>\n        <option name=\"type\">list</option>\n      </event>\n    </panel>\n  </row>\n</form>",
"eai:type": "views",
"name": "subscription_tracing_dashboard",
"owner": "nobody",
"sharing": "app",
"tags": "mobile,tv"
},
{
"eai:data": "<dashboard hideEdit=\"True\" version=\"1.1\" theme=\"dark\">\n  <tags>mobile,tv</tags>\n  <label>Single Value Test</label>\n  <description>This single-value panel is a test to check if a simple dashboard loads in Splunk Secure Gateway. It helps identify possible causes for issues during troubleshooting.</description>\n  <row>\n    <panel>\n      <title>Single Value</title>\n      <single>\n        <title>Single Value</title>\n        <search>\n          <query>| makeresults | eval testValue=random() | table testValue</query>\n          <refresh>15s</refresh>\n        </search>\n        <option name=\"drilldown\">none</option>\n      </single>\n    </panel>\n  </row>\n</dashboard>",
"eai:type": "views",
"name": "test_dashboard_single_value",
"owner": "nobody",
"sharing": "app",
"tags": "mobile,tv"
}
]
